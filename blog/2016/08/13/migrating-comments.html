<!DOCTYPE html>
<html>

	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="theme-color" content="#2a7ae2">

	<title>Migrating Comments</title>

	
		<link rel="manifest" href="/webapp/default-manifest.json">
	
	<link rel="shortcut icon" href="/images/icons/jd/favicon128.png" type="image/png">
	<link rel="icon" href="/images/icons/jd/favicon128.png" type="image/png">
	

	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css" />

	<link rel="stylesheet" href="/css/material-1.3.0.min.css" />
	<script src="/js/material-1.3.0.min.js"></script>
	<link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons" />

	<link rel="stylesheet" href="/css/magnific-popup.css">
	<link rel="stylesheet" href="/css/main.css">
	
	
	<script type="text/javascript" src="/js/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="/js/jquery.magnific-popup.min.js"></script>
	<script type="text/javascript" src="/js/main.js"></script>
	
		<script type="text/javascript" src="/js/post.js"></script>
	
	
	<!-- social plugins -->
	<script src="https://apis.google.com/js/platform.js" async defer></script>
	<script id="facebook-jssdk" type="text/javascript" defer src="//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1476944352583507&version=v2.0"></script>
	<script id="twitter-wjs" type="text/javascript" defer src="//platform.twitter.com/widgets.js"></script>
	<!-- g+ comment -->
	<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

	<link rel="canonical" href="http://www.jericdy.com/blog/2016/08/13/migrating-comments.html">
</head>


	<body>

		<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

			
<header class="mdl-layout__header">
	<div class="mdl-layout__header-row">
		<!-- Title -->
		<span class="mdl-layout-title">
			<a class="site-title-link" href="/">
				<div class="site-title">Jeric Bryle Dy</div>
				<div class="site-moto">Life is a Game</div>
			</a>
		</span>
		<!-- Add spacer, to align navigation to the right -->
		<div class="mdl-layout-spacer"></div>
		<!-- Navigation. We hide it in small screens. -->
		<nav class="top-navigation mdl-navigation mdl-layout--large-screen-only">
			<a class="mdl-navigation__link" href="/blog/">Blog</a>
			<a class="mdl-navigation__link" href="/games/">Games</a>
			<a class="mdl-navigation__link" href="/publications/">Publications</a>
			<a class="mdl-navigation__link" href="/about/">About</a>
		</nav>
	</div>
</header>
<div class="mdl-layout__drawer">
	<span class="left-navigation mdl-layout-title">Jeric Bryle Dy</span>
	<nav class="mdl-navigation">
		<a class="mdl-navigation__link" href="/blog/">Blog</a>
		<a class="mdl-navigation__link" href="/games/">Games</a>
		<a class="mdl-navigation__link" href="/publications/">Publications</a>
		<a class="mdl-navigation__link" href="/about/">About</a>
	</nav>
</div>


			<main class="mdl-layout__content">
				<div class="page-content">

					<div class="wrapper">

						<div itemscope itemtype="http://schema.org/Blog" class="post">

	<meta itemprop="image" content="http://www.jericdy.com/images/blog/disqus-comments.jpg" />
	<meta itemprop="thumbnailUrl" content="http://www.jericdy.com/images/blog/disqus-comments.jpg" />
	<header class="post-header">
		<h1 itemprop="name" class="post-title">Migrating Comments</h1>
		<p class="post-meta">
			<meta itemprop="datePublished" content="2016-08-13T14:30:00+00:00" />
			<span id="post-timestamp">August 13, 2016</span>
			â€¢
			<span itemscope itemprop="author" itemtype="http://schema.org/Person">
				<span itemprop="givenName">Jeric Bryle</span>
				<span itemprop="familyName">Dy</span>
			</span>
			
		</p>
	</header>

	<article class="post-content">
		<p>
	I have decided to migrate my comments section from Blogger's to Disqus'.
	I also wanted to preserve all my previous comments,
		so I've placed a button at the bottom of the page to show the Blogger comments.
	If I apply the button to all my posts, even my new posts will have the Blogger comment option (which I don't want).
	So I've set a date, say January 1, 2016,
		everything before the said date will have the button appear.
</p>

<p>
	I soon realized I can't compare the page's timestamp to a hard-coded timestamp
</p>

<figure class="highlight"><pre><code class="language-liquid" data-lang="liquid"><span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">date</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="s2">"2016-01-01 00:00:00 +0000"</span><span class="w"> </span><span class="p">%}</span>
    ...stuff...
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span></code></pre></figure>

<p>
	I have tried every possible permutation even ISO format.
	I always end up with the error:
</p>

<figure class="highlight"><pre><code class="language-properties" data-lang="properties"><span class="err">Liquid</span> <span class="py">Exception</span><span class="p">:</span> <span class="s">Liquid error (line 27): comparison of Time with Liquid::Token failed in _layouts/post.html error:</span>
<span class="py">Error</span><span class="p">:</span> <span class="s">Liquid error (line 27): comparison of Time with Liquid::Token failed</span>
<span class="py">Error</span><span class="p">:</span> <span class="s">Run jekyll build --trace for more information.</span></code></pre></figure>

<p>
	It turns out, I should have assigned the timestamp to a page variable before comparing it.
	This way, jekyll will cast it as a timestamp instead of string.
</p>

<figure class="highlight"><pre><code class="language-liquid" data-lang="liquid">blogger-timestamp: 2016-01-01 00:00:00 +0000
---
<span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">date</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nv">blogger</span><span class="err">-</span><span class="nv">timestamp</span><span class="w"> </span><span class="p">%}</span>
    ...stuff...
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span></code></pre></figure>



	<div class="item-spacer">


<a class="image-zoom" href="/images/blog/disqus-comments.jpg">
	<img class="img-responsive image-center" src="/images/blog/thumbnails/800x600/disqus-comments.jpg" />
</a>

	<div class="item-caption">Option to show old comments at the bottom</div>



	</div>





	<div class="item-spacer">


<a class="image-zoom" href="/images/blog/blogger-comments.jpg">
	<img class="img-responsive image-center" src="/images/blog/thumbnails/800x600/blogger-comments.jpg" />
</a>

	<div class="item-caption">Blogger comments from my <a href='/blog/2015/01/04/3d-printer.html'>3D Printer post</a></div>



	</div>



<p>
	I initially hard-coded it just to do a quick test,
		but ended up spending about an hour trying to figure out how to compare timestamps in Jekyll.
	Only to realize it's because I am comparing a timestamp to a string!.
	Oh well, all's well that ends well, I guess.
</p>

	</article>

	<div id="disqus-comments">
		<div id="disqus_thread"></div>
<script>
	var disqus_config = function () {
		this.page.url = "http://www.jericdy.com/blog/2016/08/13/migrating-comments.html";
		this.page.identifier = "/blog/2016/08/13/migrating-comments.html";
	};

	(function () {
		var d = document, s = d.createElement('script');
		s.src = '//jeric.disqus.com/embed.js';
		s.setAttribute('data-timestamp', +new Date());
		(d.head || d.body).appendChild(s);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

	</div>

	

</div>


					</div>

				</div>

				
<footer class="mdl-mini-footer">
	<div class="mdl-mini-footer--left-section" style="width: 50%;">
		<div class="mdl-logo">Follow</div>
		
			<a class="follow-link" href="https://www.linkedin.com/in/jericdy" title="LinkedIn">
				<div class="follow-entry">
					<img src="/images/icons/social/linkedin.svg" width="16" height="16" />
				</div>
			</a>
		
			<a class="follow-link" href="https://www.youtube.com/user/jericbryledy" title="YouTube">
				<div class="follow-entry">
					<img src="/images/icons/social/youtube.svg" width="16" height="16" />
				</div>
			</a>
		
			<a class="follow-link" href="http://blog.jericdy.com" title="Blogger">
				<div class="follow-entry">
					<img src="/images/icons/social/blogger.svg" width="16" height="16" />
				</div>
			</a>
		
			<a class="follow-link" href="https://twitter.com/jericbryledy" title="Twitter">
				<div class="follow-entry">
					<img src="/images/icons/social/twitter.svg" width="16" height="16" />
				</div>
			</a>
		
			<a class="follow-link" href="https://plus.google.com/+JericBryleDy" title="Google+">
				<div class="follow-entry">
					<img src="/images/icons/social/gplus.svg" width="16" height="16" />
				</div>
			</a>
		
			<a class="follow-link" href="https://www.facebook.com/jericdy" title="Facebook">
				<div class="follow-entry">
					<img src="/images/icons/social/facebook.svg" width="16" height="16" />
				</div>
			</a>
		
			<a class="follow-link" href="https://github.com/jericbryledy" title="GitHub">
				<div class="follow-entry">
					<img src="/images/icons/social/github.svg" width="16" height="16" />
				</div>
			</a>
		
	</div>
	<div class="mdl-mini-footer__right-section" style="width: 50%;">
		<div class="mdl-logo">Share</div>
		<div>
			<div class="social-entry">
				<div class="gplus">
					<div class="g-plusone" data-href="http://www.jericdy.com/blog/2016/08/13/migrating-comments.html" data-size="medium"></div>
				</div>
			</div>
			<div class="social-entry">
				<div class="facebook">
					<div id="fb-root"></div>
					<div class="fb-like" data-href="http://www.jericdy.com/blog/2016/08/13/migrating-comments.html" data-layout="button_count" data-action="like" data-show-faces="false" data-share="true"></div>
				</div>
			</div>
			<div class="social-entry">
				<div class="twitter">
					<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.jericdy.com/blog/2016/08/13/migrating-comments.html" data-hashtags="jericdy">Tweet</a>
				</div>
			</div>
		</div>
	</div>
</footer>


			</main>

		</div>

	</body>

</html>
